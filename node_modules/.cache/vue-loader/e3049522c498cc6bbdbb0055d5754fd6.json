{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\web\\system\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\web\\system\\src\\views\\index4.vue?vue&type=style&index=0&id=5ed6f188&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\web\\system\\src\\views\\index4.vue","mtime":1611545881089},{"path":"C:\\Users\\Administrator\\Desktop\\web\\system\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web\\system\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web\\system\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web\\system\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\web\\system\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jb250YWluZXJ7CiAgICB3aWR0aDogMTAwJTsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIGZsZXgtd3JhcDogd3JhcDsKfQouaW1nLC51cHsKICAgIGhlaWdodDogMjYwcHg7CiAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICB3aWR0aDogY2FsYyhjYWxjKDEwMCUgLyA1KSAtIDIwcHgpOwogICAgbWFyZ2luOiAxMHB4Owp9Ci51cHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2M7CiAgICBkaXNwbGF5OiBmbGV4OwogICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwp9Ci51cCBpbWd7CiAgICB3aWR0aDogNTBweDsKICAgIGhlaWdodDogNTBweDsKfQo="},{"version":3,"sources":["index4.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index4.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <Layout>\r\n    <div class=\"container\">\r\n        <img class=\"img\"\r\n        v-for=\"(item,index) in srcList\"\r\n        :key=\"index\"\r\n        @click=\"preImg(item,index)\"\r\n        :src=\"item\">\r\n        <div class=\"up\">\r\n            <el-upload\r\n            action=\"http://localhost:3000/upload?user=1\"\r\n            :limit=\"1\"\r\n            :on-exceed=\"handleExceed\"\r\n            :before-upload=\"beforeUpload\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :show-file-list=\"false\"\r\n            :file-list=\"fileList\">\r\n              <img src=\"../images/add.png\" alt=\"\">\r\n          </el-upload>\r\n        </div>\r\n        <el-dialog :visible.sync=\"dialogVisible\" title=\"Picture Viewer\">\r\n            <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n            <el-button style=\"margin-top:10px\" @click=\"delate(index)\" type=\"danger\" icon=\"el-icon-delete\" circle></el-button>\r\n        </el-dialog>\r\n    </div>\r\n    </Layout>\r\n</template>\r\n\r\n<script>\r\n    import Layout from '@/components/Layout.vue'\r\n    export default {\r\n        components: {\r\n            Layout\r\n        },\r\n        data(){\r\n            return{\r\n                url: 'https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg',\r\n                srcList: [\r\n                    'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg',\r\n                    'https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg',\r\n                    'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg',\r\n                    'https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg',\r\n                    'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg',\r\n                    'https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg',\r\n                    'https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg',\r\n                    'https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg'\r\n                ],\r\n                dialogImageUrl: '',\r\n                dialogVisible: false,\r\n                index:null,\r\n                fileList:[]\r\n            }\r\n        },\r\n        created(){\r\n            this.$axios.get(\"/upload/getImg?user=\"+localStorage.getItem(\"userId\")).then(res=>{\r\n                console.log(res)\r\n                this.srcList=this.srcList.concat(res.data.data)\r\n            }).catch(err=>console.log(err))\r\n        },\r\n        methods:{\r\n            preImg(url,index){\r\n                this.dialogVisible = true\r\n                this.dialogImageUrl = url\r\n                this.index = index\r\n            },\r\n            delate(index){\r\n                console.log(index)\r\n                this.srcList.splice(index,1)\r\n                this.dialogVisible = false\r\n            },\r\n            handleExceed(files, fileList) {\r\n                this.$message.warning(`Currently limited to select 1 file, this time ${files.length} files are selected, a total of ${fileList.length} files are selected`);\r\n            },\r\n            beforeUpload(file){\r\n                const isJPG = (file.type === 'image/png' || file.type === 'image/jpg' || file.type === 'image/jpeg' || file.type === 'image/bmp' || file.type === 'image/gif');\r\n                const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n                if (!isJPG) {\r\n                this.$message.error('Uploaded profile picture format is not supported!');\r\n                }\r\n                if (!isLt2M) {\r\n                this.$message.error('Uploaded avatar image size cannot exceed 2MB!');\r\n                }\r\n                return isJPG && isLt2M;\r\n            },\r\n            handleAvatarSuccess(){\r\n                console.log(\"成功\")\r\n            }\r\n        }\r\n        \r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .container{\r\n        width: 100%;\r\n        display: flex;\r\n        padding: 20px;\r\n        box-sizing: border-box;\r\n        flex-wrap: wrap;\r\n    }\r\n    .img,.up{\r\n        height: 260px;\r\n        border-radius: 5px;\r\n        width: calc(calc(100% / 5) - 20px);\r\n        margin: 10px;\r\n    }\r\n    .up{\r\n        background-color: #ccc;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n    .up img{\r\n        width: 50px;\r\n        height: 50px;\r\n    }\r\n</style>"]}]}